<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<link rel="stylesheet" type="text/css" href="./styles/merchant.css"></link>
<!-- (c) Copyright 2000-2014 by Wirecard CEE, All rights reserved -->
<title>Wirecard Checkout Seamless - Durchf&#252;hren der Transaktion - Wirecard CEE</title>
<meta http-equiv="Content-type" content="text/html;charset=iso-8859-1"></meta>
<meta http-equiv="refresh" content="1; URL='https://checkout.wirecard.com/seamless/frontend/D200001qmore_DESKTOP/paypalpayment.php?SID=mo8omorjo6uq228b7bcgduhjq7&amp;t=1403542802&amp;r=mre'"></meta>

<link rel="stylesheet" type="text/css" href="./styles/qstyles.css?1403542802"></link>
<script type="text/javascript">
//<![CDATA[

function wcp_base64encode(input)
{
    var alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    var output = "";

    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
    var i = 0;

    while (i < input.length) {

        chr1 = input.charCodeAt(i++);
        chr2 = input.charCodeAt(i++);
        chr3 = input.charCodeAt(i++);

        enc1 = chr1 >> 2;
        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
        enc4 = chr3 & 63;

        if (isNaN(chr2))
        {
            enc3 = enc4 = 64;
        }
        else if (isNaN(chr3))
        {
            enc4 = 64;
        }

        output = output + alphabet.charAt(enc1) + alphabet.charAt(enc2) + alphabet.charAt(enc3) + alphabet.charAt(enc4);
    }

    return output;
}

if (window.name == "")
{
    window.name = "WCPd7063f28175aa51fa58c4f4775dd1664";
}
else if (window.name != "WCPd7063f28175aa51fa58c4f4775dd1664")
{
    var WindowNameImage = new Image();
    var wn = window.name;
    if (wn.length > 1024)
    {
        wn = wn.substring(0, 1024) + "... (" + (wn.length - 1024) + " more).";
    }
    WindowNameImage.src = "./refreshsession.php?SID=mo8omorjo6uq228b7bcgduhjq7&f=" + Math.random() + "&wne=" + encodeURIComponent(wcp_base64encode(wn));
}

var wcp_exitAllowed = false;
var wcp_pageName = "";

function wcp_selectPaySys(system)
{
    var systemValue = system.toLowerCase();
    var psi350x30 = document.getElementById("wcp_350x30psi");

    for (var i = 0; i < document.wcp_form.elements.length; i++)
    {
        var object = document.wcp_form.elements[i];
        if (object.type == "radio")
        {
            var objectValue = object.value.toLowerCase();

            if (object.value == system)
            {
                object.checked = true;

            }
        }
    }

    var action = "";
    var imgextension = "";

    if (system == "CCARD")
    {
        action = "3dscardinfo.php";
    }
    else if (system == "MAESTRO")
    {
        action = "maestrocardinfo.php";
    }
    else if (system == "EPS")
    {
        action = "epsintermediate.php";
        var selectedAccount = document.wcp_form.selectedAccount.value;
        if (selectedAccount != "" && selectedAccount.substring(0,6) != "SPACER")
        {
            imgextension = "_" + selectedAccount.replace(/\//,"")
                    .replace(/ /,"")
                    .replace(/\|/,"-");
        }
    }
    else if (system == "IDL")
    {
        action = "idlintermediate.php";
        var selectedIssuer = document.wcp_form.selectedIssuer.value;
        if (selectedIssuer != "" && selectedIssuer.substring(0,6) != "SPACER")
        {
            imgextension = "_" + selectedIssuer.replace(/\//,"")
                    .replace(/ /,"")
                    .replace(/\|/,"-");
        }
    }
    else if (system == "GIROPAY")
    {
        action = "wgpinfo.php";
    }
    else if (system == "SKRILLDIRECT")
    {
        action = "skrilldirectinfo.php";
    }
    else if (system == "SKRILLWALLET")
    {
        action = "skrillwalletintermediate.php";
    }
    else if (system == "MPASS")
    {
        action = "mpassintermediate.php";
    }
    else if (system == "TATRAPAY")
    {
        action = "tatrapayintermediate.php";
    }
    else if (system == "SOFORTUEBERWEISUNG")
    {
        action = "sueintermediate.php";
    }
    else if (system == "BANCONTACT_MISTERCASH")
    {
        action = "bmcintermediate.php";
    }
    else if (system == "PRZELEWY24")
    {
        action = "p24intermediate.php";
    }
    else if (system == "MONETA")
    {
        action = "monetaintermediate.php";
    }
    else if (system == "POLI")
    {
        action = "poliintermediate.php";
    }
    else if (system == "EKONTO")
    {
        action = "ekontointermediate.php";
    }
    else if (system == "INSTANTBANK" || system == "TRUSTLY")
    {
        action = "instantbankintermediate.php";
    }
    else if (system == "PBX")
    {
        action = "pbxinfo.php";
    }
    else if (system == "PSC")
    {
        action = "pscintermediate.php";
    }
    else if(system == "PAYPAL")
    {
        action = "paypalintermediate.php";
    }
    else if (system == "EPAY_BG")
    {
        action = "epaybgintermediate.php";
    }
    else if (system == "QUICK")
    {
        action = "quickintermediate.php";
    }
    else if (system == "ELV" || system == "SEPA-DD")
    {
        action = "elvinfo.php";
    }
    else if (system == "C2P")
    {
        action = "c2pinfo.php";
    }
    else if (system == "INVOICE")
    {
        action = "invoiceintermediate.php";
    }
    else if(system == "INSTALLMENT")
    {
        action = "installmentintermediate.php";
    }
    else
    {
        alert("Unknown paySys: " + system);
    }

    document.wcp_form.action = action + "?SID=mo8omorjo6uq228b7bcgduhjq7";
    document.wcp_form.helper.value = system;

    var psiv = "img/paysys_" + systemValue + imgextension.toLowerCase() + "_vertical.gif";
    var psih = "img/paysys_" + systemValue + imgextension.toLowerCase() + "_horizontal.gif";
    var psi200x220 = "img/paysys_" + systemValue + imgextension.toLowerCase() + "_200x220.gif";
    var psi350x30 = "img/paysys_" + systemValue + imgextension.toLowerCase() + "_350x30.gif";

    if (document.wcp_vpsi != null)
    {
        document.wcp_vpsi.src = psiv;
    }

    if (document.wcp_hpsi != null)
    {
        document.wcp_hpsi.src = psih;
    }

    if (document.wcp_200x220psi != null)
    {
        document.wcp_200x220psi.src = psi200x220;
    }


}

function wcp_exitPage()
{
    if (!wcp_exitAllowed)
    {
        return "Wollen Sie die Seite wirklich schlie\u00dfen, ohne die Zahlung zu beenden?";
    }
}

function wcp_cancel()
{
    if (confirm("Wollen Sie die Transaktion wirklich abbrechen?"))
    {
        wcp_exitAllowed = true;
        document.location.href = "./cancelintermediate.php?SID=mo8omorjo6uq228b7bcgduhjq7";
    }
}

function wcp_back()
{
    wcp_exitAllowed = true;
    document.location.href = "./select.php?SID=mo8omorjo6uq228b7bcgduhjq7";
}

function wcp_next()
{
    if (wcp_checkFormContent(wcp_pageName))
    {
        wcp_exitAllowed = true;
        document.wcp_form.submit();
    }
}

function wcp_checkFormContent(what)
{
    if (what == "select")
    {
        if (document.wcp_form.helper.value == "EPS")
        {
            var selectedAccount = document.wcp_form.selectedAccount.value;
            if (selectedAccount == "" || selectedAccount.substring(0,6) == "SPACER")
            {
                alert("Bitte w\u00e4hlen Sie Ihre Bank...");
                document.wcp_form.selectedAccount.focus();
                return false;
            }
        }
        else if (document.wcp_form.helper.value == "IDL")
        {
            var selectedIssuer = document.wcp_form.selectedIssuer.value;
            if (selectedIssuer == "" || selectedIssuer.substring(0,6) == "SPACER")
            {
                alert("Bitte w\u00e4hlen Sie Ihre Bank...");
                document.wcp_form.selectedIssuer.focus();
                return false;
            }
        }
        return true;
    }
    else if (what == "elvaccept")
    {
        if (document.wcp_form.agb.checked)
        {
            return true;
        }
        else
        {
            alert("");
            document.wcp_form.agb.focus();
            return false;
        }
    }
    else
    {
        return true;
    }
}

function wcp_abortCVCOperation()
{
    wcp_exitAllowed = true;
    document.wcp_form.cvc.value = "";
    document.wcp_form.submit();
}

function wcp_finishCVCOperation()
{
    if (document.wcp_form.cvc.value == "")
    {
        alert("Sie m\u00fcssen die Kartenpr\u00fcfnummer angeben, um die Zahlung fortzusetzen.");
        document.wcp_form.cvc.focus();
    }
    else
    {
        wcp_exitAllowed = true;
        document.wcp_form.submit();
    }
}

function wcp_filterKeyboardStrokes(event, keycodeToCheck, functionToCall, additionalCheck)
{
    var keycodePressed = -1;
    var formField = "undefined";

    if (typeof event == "undefined")
    {
        event = window.event;
    }

    if (typeof event.which != "undefined")
    {
        keycodePressed = event.which;
        formField = event.target;
    }
    else if (typeof event.keyCode != "undefined")
    {
        keycodePressed = event.keyCode;
        formField = event.srcElement;
    }

    if (typeof event.ctrlKey != "undefined")
    {
        if (event.ctrlKey == true &&
                (keycodePressed == "c".charCodeAt(0) || keycodePressed == "C".charCodeAt(0) ||
                        keycodePressed == "v".charCodeAt(0) || keycodePressed == "V".charCodeAt(0) ||
                        keycodePressed == "x".charCodeAt(0) || keycodePressed == "X".charCodeAt(0)))
        {
            return true;
        }
    }

    if (keycodePressed == keycodeToCheck)
    {
        eval(functionToCall);
    }
    else
    {
        if (additionalCheck != "none" && formField != "undefined")
        {
            return wcp_checkContent(formField,additionalCheck,keycodePressed);
        }
        else
        {
            return true;
        }
    }

    return true;
}

function wcp_checkContent(obj, method, currentKey) {
    if ((typeof obj == "object") && (typeof obj.value != "undefined")) {
        var controlChar = currentKey < " ".charCodeAt(0);
        if (!controlChar) {
            if (method == "num") {
                return (currentKey >= "0".charCodeAt(0) && currentKey <= "9".charCodeAt(0));
            }
            else if (method == "alnum") {
                return ((currentKey >= "0".charCodeAt(0) && currentKey <= "9".charCodeAt(0)) ||
                        (currentKey >= "a".charCodeAt(0) && currentKey <= "z".charCodeAt(0)) ||
                        (currentKey >= "A".charCodeAt(0) && currentKey <= "Z".charCodeAt(0)));
            }
        }

        return true;
    }
}

function getCaretPos(input) {
    // Internet Explorer Caret Position (TextArea)
    if (document.selection && document.selection.createRange) {
        var range = document.selection.createRange();
        var bookmark = range.getBookmark();
        var caret_pos = bookmark.charCodeAt(2) - 2;
    } else {
        // Firefox Caret Position (TextArea)
        if (input.setSelectionRange)
            var caret_pos = input.selectionStart;
    }

    return caret_pos;
}

function setCaretPosition(elem, caretPos) {
    if(elem != null) {
        if(elem.createTextRange) {
            var range = elem.createTextRange();
            range.move('character', caretPos);
            range.select();
        }
        else {
            if(elem.selectionStart) {
                elem.focus();
                elem.setSelectionRange(caretPos, caretPos);
            }
            else
                elem.focus();
        }
    }
}

if(typeof String.prototype.trim !== 'function') {
    String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, '');
    }
}
var formatIban = function (iban) {
    return iban.replace(/\s{1,}/g, '').replace(/(\w{4})/g, "$1 ").replace(/\s{2,}/g, ' ').trim();
}

function ibanFormatting(event, oBankIban) {
    var currentPosition = getCaretPos(oBankIban);
    var currentLength = oBankIban.value.length;

    var key = event.keyCode || event.charCode;

    if(key == 16 || key == 37 || key == 39)
    {
        return;
    }
    oBankIban.value = formatIban(oBankIban.value);
    var caretEndPosition = oBankIban.value.length;

    var newPosition = currentPosition+(caretEndPosition-currentLength);
    if(key == 8 && (newPosition % 5) == 0)
    {
        newPosition--;
    }
    else if(key == 46 && (oBankIban.value.length+1) % 5 == 0)
    {
        newPosition++;
    }

    setCaretPosition(oBankIban, newPosition);
}

var wcp_childwin;

function wcp_openChildWindowAndSubmit(formName,width,height,scrollbars,alias)
{
    if (alias == null ) {
        alias = "WCPPopup";
    }
    wcp_openChildWindowWithUrl("3dsblank.html",width,height,scrollbars,alias);
    document.forms[formName].target = alias;
    try
    {
        document.forms[formName].submit();
    }
    catch (e)
    {
        // do nothing. It is possible that the blocked target will cause a security exception
        var JSErrorImage = new Image();
        var msg = "Exception in wcp_openChildWindowAndSubmit: " + e;
        for (var i in e) {
            msg += i + ' = ' + e[i] + "\n";
        }
        if (msg.length > 1214) {
            msg = msg.substr(0,1214);
        }

        JSErrorImage.src = "./refreshsession.php?SID=mo8omorjo6uq228b7bcgduhjq7&f=" + Math.random() + "&qjse=" + encodeURIComponent(wcp_base64encode(msg));
    }
    if (wcp_childwin != null) {
        wcp_childwin.focus();
    }
}

function wcp_openChildWindowWithUrl(url,width,height,scrollbars,alias)
{
    var wcp_windowAlreadyOpened = (typeof wcp_childwin == "object");
    var wcp_windowAlreadyClosed = true;
    var wcp_windowBlocked = false;

    if (typeof wcp_childwin == "object") {
        if  (wcp_childwin != null) {
            if (typeof wcp_childwin.closed != "undefined") {
                if (typeof wcp_childwin.closed == "boolean") {
                    wcp_windowAlreadyClosed = wcp_childwin.closed;
                }
            }

            if (!wcp_windowAlreadyClosed) {
                if (wcp_childwin.screenX === 0 ||
                        wcp_childwin.outerWidth == 0 ||
                        wcp_childwin.outerHeight == 0 ||
                        wcp_childwin.location == 'about:blank') {
                    wcp_windowBlocked = true;
                }
            }
        }
    }

    if (wcp_windowAlreadyOpened && !wcp_windowAlreadyClosed && !wcp_windowBlocked) {
        wcp_childwin.focus();
    } else {
        if (alias == null) {
            alias = "WCPPopup";
        }
        var settings = "height=" + height + "," +
                "width=" + width + "," +
                "scrollbars=" + scrollbars + "," +
                "status=yes," +
                "dependent=no," +
                "resizable=yes";

        wcp_childwin = window.open(url, alias, settings);
        if (wcp_childwin != null) {
            wcp_childwin.focus();
        }
    }
}



function wcp_checkTargetAndSubmit(name,target,alternativeTarget)
{
    try
    {
        if (window.name == target)
        {
            document.forms[name].submit();
        }
        else if (alternativeTarget != null &&
                window.name == alternativeTarget)
        {
            document.forms[name].target = alternativeTarget;
            document.forms[name].submit();
        }
        else if (opener != null &&
                opener.name == target)
        {
            opener.location.href = document.forms[name].action;
            window.close();
            opener.focus();
        }
        else if (alternativeTarget != null &&
                opener != null &&
                opener.name == alternativeTarget)
        {
            opener.location.href = document.forms[name].action;
            window.close();
            opener.focus();
        }
        else if (opener == null && window.name == '')
        {
            window.location.href = document.forms[name].action;
        }
        else
        {
            window.location.href = document.forms[name].action;
        }
    }
    catch (e)
    {
        // do nothing. It is possible that the blocked target will cause a security exception
        var JSErrorImage = new Image();
        var msg = "Exception in wcp_checkTargetAndSubmit: " + e;
        for (var i in e) {
            msg += i + ' = ' + e[i] + "\n";
        }
        if (msg.length > 1214) {
            msg = msg.substr(0,1214);
        }
        JSErrorImage.src = "./refreshsession.php?SID=mo8omorjo6uq228b7bcgduhjq7&f=" + Math.random() + "&qjse=" + encodeURIComponent(wcp_base64encode(msg));

        window.location.href = document.forms[name].action;
    }
}

function wcp_confirmChildOpened()
{
    var ChildWindowOpenedImage = new Image();
    ChildWindowOpenedImage.src = "./refreshsession.php?SID=mo8omorjo6uq228b7bcgduhjq7&f=" + Math.random() + "&cwo=1";
}
//]]>
</script>


</head>
<body id="nouseraction">
<noscript>
    <p class="error11bold">F&#252;r die volle Unterst&#252;tzung aller Funktionen muss JavaScript aktiviert sein.</p>
    <p class="error11bold">N&#228;here Informationen dazu erhalten Sie <a href="noscriptmessage.php?SID=mo8omorjo6uq228b7bcgduhjq7" target="_blank" class="error11bold">hier</a>.</p><img src="./noscript.php?SID=mo8omorjo6uq228b7bcgduhjq7" alt="" />
</noscript>
<div class="error" id="errortext">Dieses Fenster bitte nicht schlie&#223;en!</div>
<div id="loader">
    <img src="img/loader.gif" alt="loader">
</div>
<div  class="info" id="infotext">Die Zahlung wird gestartet.</div>

</body>
</html>
